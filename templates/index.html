{% extends "skeleton.html" %}

{% block contenido %}
<div class="pl-4 pr-4 pt-4">
    <form action="/" id="formLogin" method="post" onsubmit="return check()">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="name">Nombre</label>
                <input class="form-control" id="name" maxlength="50" name="name" placeholder="Nombre" type="text">
            </div>
            <div class="form-group col-md-6">
                <label for="nacimiento">Fecha de nacimiento</label>
                <input class="form-control" id="nacimiento" name="nacimiento" type="date">
            </div>
        </div>
        <div class="form-group text-right">
            <input class="btn mb-2 rounded-pill font-weight-bold"
                   style="background-color: #00acee; color: white" type="submit" value="Acceder">
        </div>
    </form>
</div>

<script>
    function check() {
        const name = document.getElementById("name");
        const nacimiento = document.getElementById("nacimiento");
        const fecha = new Date(nacimiento.value)
        var date = new Date();
        date.setDate(date.getDate() - 1);
        var toret = true;
        if (name.value.trim().length < 1 || name.value.length > 50) {
            name.classList.add('is-invalid');
            toret = false;
        }

        if (nacimiento.value == '' || fecha == null || fecha > date) {
            nacimiento.classList.add('is-invalid');
            return false;
        }
        return toret;
    }
</script>
{% endblock %}